"use strict";(globalThis.webpackChunkcg_notes=globalThis.webpackChunkcg_notes||[]).push([[817],{4828:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>o,contentTitle:()=>s,default:()=>x,frontMatter:()=>i,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"Textures","title":"OpenGL Textures & WebGL Shaders","description":"Covers Section 11 + Lab 4 (WebGL Textures)","source":"@site/docs/Textures.md","sourceDirName":".","slug":"/Textures","permalink":"/cvg-notes/docs/Textures","draft":false,"unlisted":false,"editUrl":"https://github.com/tino-ryan/cvg-notes/tree/main/docs/Textures.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"OpenGL Programmable Pipeline","permalink":"/cvg-notes/docs/Programmable_Pipeline"}}');var a=r(4848),l=r(8453);const i={},s="OpenGL Textures & WebGL Shaders",o={},d=[{value:"1. Texture Basics (Section 11)",id:"1-texture-basics-section-11",level:2},{value:"2. WebGL Texture Setup (JS)",id:"2-webgl-texture-setup-js",level:2},{value:"LAB 4.1: Sample 2D Texture (Albedo)",id:"lab-41-sample-2d-texture-albedo",level:2},{value:"Vertex Shader",id:"vertex-shader",level:3},{value:"Fragment Shader",id:"fragment-shader",level:3},{value:"JS: Bind Texture to Uniform",id:"js-bind-texture-to-uniform",level:3},{value:"LAB 4.2: Procedural Textures (4 Types)",id:"lab-42-procedural-textures-4-types",level:2},{value:"Fragment Shader (Complete)",id:"fragment-shader-complete",level:3},{value:"LAB 4.3: Creative Texture Effect (Bump Mapping)",id:"lab-43-creative-texture-effect-bump-mapping",level:2},{value:"Add Normal Map Texture",id:"add-normal-map-texture",level:3},{value:"Vertex Shader (Pass TBN)",id:"vertex-shader-pass-tbn",level:3},{value:"Fragment Shader (Tangent-Space Normal Mapping)",id:"fragment-shader-tangent-space-normal-mapping",level:3},{value:"4. Other Creative Ideas (Exam Flex)",id:"4-other-creative-ideas-exam-flex",level:2},{value:"5. Exam Question Patterns",id:"5-exam-question-patterns",level:2},{value:"Type 1: Sample Texture",id:"type-1-sample-texture",level:3},{value:"Type 2: Procedural Checkerboard",id:"type-2-procedural-checkerboard",level:3},{value:"Type 3: Fix Mipmap",id:"type-3-fix-mipmap",level:3},{value:"Type 4: Bump Mapping",id:"type-4-bump-mapping",level:3}];function c(e){const n={blockquote:"blockquote",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,l.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"opengl-textures--webgl-shaders",children:"OpenGL Textures & WebGL Shaders"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Covers Section 11 + Lab 4 (WebGL Textures)"}),(0,a.jsx)(n.br,{}),"\n",(0,a.jsx)(n.strong,{children:"Focus"}),": Texture Mapping, Sampling, Filtering, Procedural Textures, Bump Maps",(0,a.jsx)(n.br,{}),"\n",(0,a.jsx)(n.strong,{children:"Exam Ready"}),": Lab 4.1\u20134.3 full solutions + common exam patterns",(0,a.jsx)(n.br,{}),"\n",(0,a.jsx)(n.strong,{children:"Tip"}),": Exam may ask to ",(0,a.jsx)(n.strong,{children:"sample textures"}),", ",(0,a.jsx)(n.strong,{children:"implement procedural textures"}),", or ",(0,a.jsx)(n.strong,{children:"add bump mapping"})]}),"\n"]}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"1-texture-basics-section-11",children:"1. Texture Basics (Section 11)"}),"\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"Term"}),(0,a.jsx)(n.th,{children:"Meaning"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.strong,{children:"Texture"})}),(0,a.jsx)(n.td,{children:"2D image applied to 3D surface"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.strong,{children:"UV Coordinates"})}),(0,a.jsxs)(n.td,{children:[(0,a.jsx)(n.code,{children:"(u,v)"})," in [0,1] \u2192 maps texture to geometry"]})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.strong,{children:"Texel"})}),(0,a.jsx)(n.td,{children:"Pixel in texture"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.strong,{children:"Sampler"})}),(0,a.jsxs)(n.td,{children:[(0,a.jsx)(n.code,{children:"sampler2D"})," in shader \u2192 reads texture"]})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.strong,{children:"Mipmap"})}),(0,a.jsx)(n.td,{children:"Pre-scaled versions of texture for minification"})]})]})]}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"2-webgl-texture-setup-js",children:"2. WebGL Texture Setup (JS)"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:"// 1. Create & bind texture\nconst tex = gl.createTexture();\ngl.bindTexture(gl.TEXTURE_2D, tex);\n\n// 2. Load image\nconst img = new Image();\nimg.onload = () => {\n    gl.bindTexture(gl.TEXTURE_2D, tex);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, img);\n\n    // 3. Generate mipmaps\n    gl.generateMipmap(gl.TEXTURE_2D);\n\n    // 4. Set filters\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR_MIPMAP_LINEAR);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.REPEAT);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.REPEAT);\n\n    render();\n};\nimg.src = 'brick.jpg';\n"})}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"lab-41-sample-2d-texture-albedo",children:"LAB 4.1: Sample 2D Texture (Albedo)"}),"\n",(0,a.jsx)(n.h3,{id:"vertex-shader",children:"Vertex Shader"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-glsl",children:"attribute vec2 a_coords;\nattribute vec2 a_texCoords;\nvarying vec2 v_texCoords;\nuniform mat4 model;\nuniform mat4 view;\nuniform mat4 projection;\n\nvoid main() {\n    v_texCoords = a_texCoords;\n    gl_Position = projection * view * model * vec4(a_coords, 0.0, 1.0);\n}\n"})}),"\n",(0,a.jsx)(n.h3,{id:"fragment-shader",children:"Fragment Shader"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-glsl",children:"precision mediump float;\nvarying vec2 v_texCoords;\nuniform sampler2D u_texture1;\n\nvoid main() {\n    gl_FragColor = texture2D(u_texture1, v_texCoords);\n}\n"})}),"\n",(0,a.jsx)(n.h3,{id:"js-bind-texture-to-uniform",children:"JS: Bind Texture to Uniform"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:"gl.activeTexture(gl.TEXTURE0);\ngl.bindTexture(gl.TEXTURE_2D, texture);\ngl.uniform1i(gl.getUniformLocation(program, 'u_texture1'), 0);\n"})}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"lab-42-procedural-textures-4-types",children:"LAB 4.2: Procedural Textures (4 Types)"}),"\n",(0,a.jsx)(n.h3,{id:"fragment-shader-complete",children:"Fragment Shader (Complete)"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-glsl",children:"#ifdef GL_FRAGMENT_PRECISION_HIGH\n   precision highp float;\n#else\n   precision mediump float;\n#endif\n\nuniform mat3 normalMatrix;\nuniform int textureNum;\nuniform float scale;\nvarying vec3 v_normal;\nvarying vec3 v_eyeCoords;\nvarying vec2 v_texCoords;\n\nvec3 N = normalize(normalMatrix * v_normal);\nvec3 L = normalize(-v_eyeCoords);\nfloat diffuseFactor = max(dot(N, L), 0.0);\nvec3 color = vec3(0.0);\nvec2 uv = v_texCoords * max(scale, 0.0001);\n\n// Hash function for noise\nfloat hash(vec2 p) {\n    return fract(sin(dot(p, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\n// Smoothstep interpolation\nfloat smoothstep(float edge0, float edge1, float x) {\n    float t = clamp((x - edge0) / (edge1 - edge0), 0.0, 1.0);\n    return t * t * (3.0 - 2.0 * t);\n}\n\nif (textureNum == 0) {\n    // 0) Checkerboard 2D\n    float x = floor(uv.x * 10.0);\n    float y = floor(uv.y * 10.0);\n    color = mod(x + y, 2.0) < 1.0 ? vec3(1.0, 0.8, 0.6) : vec3(0.3, 0.2, 0.1);\n\n} else if (textureNum == 1) {\n    // 1) Sine Function (wavy bands)\n    float wave = sin(uv.x * 20.0) * sin(uv.y * 20.0);\n    wave = wave * 0.5 + 0.5;  // [-1,1] \u2192 [0,1]\n    color = vec3(wave, wave * 0.7, wave * 0.4);\n\n} else if (textureNum == 2) {\n    // 2) Value Noise 2D\n    vec2 i = floor(uv * 10.0);\n    vec2 f = fract(uv * 10.0);\n    f = smoothstep(0.0, 1.0, f);\n\n    float a = hash(i);\n    float b = hash(i + vec2(1.0, 0.0));\n    float c = hash(i + vec2(0.0, 1.0));\n    float d = hash(i + vec2(1.0, 1.0));\n\n    float noise = mix(mix(a, b, f.x), mix(c, d, f.x), f.y);\n    color = vec3(noise);\n\n} else if (textureNum == 3) {\n    // 3) Radial Rings\n    vec2 center = uv - 0.5;\n    float r = length(center) * 20.0;\n    float rings = sin(r) * 0.5 + 0.5;\n    color = vec3(rings, rings * 0.8, rings * 0.5);\n}\n\ngl_FragColor = vec4(diffuseFactor * color, 1.0);\n"})}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"lab-43-creative-texture-effect-bump-mapping",children:"LAB 4.3: Creative Texture Effect (Bump Mapping)"}),"\n",(0,a.jsx)(n.h3,{id:"add-normal-map-texture",children:"Add Normal Map Texture"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:"// Load normal map\nconst normalImg = new Image();\nnormalImg.onload = () => {\n    const normalTex = gl.createTexture();\n    gl.bindTexture(gl.TEXTURE_2D, normalTex);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, normalImg);\n    gl.generateMipmap(gl.TEXTURE_2D);\n    gl.uniform1i(gl.getUniformLocation(program, 'u_normalMap'), 1);\n};\nnormalImg.src = 'normal.jpg';\n"})}),"\n",(0,a.jsx)(n.h3,{id:"vertex-shader-pass-tbn",children:"Vertex Shader (Pass TBN)"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-glsl",children:"attribute vec3 a_position;\nattribute vec3 a_normal;\nattribute vec3 a_tangent;\nattribute vec2 a_texCoords;\nuniform mat4 u_modelview;\nuniform mat4 u_projection;\nuniform mat3 u_normalMatrix;\n\nvarying vec3 v_tangent;\nvarying vec3 v_bitangent;\nvarying vec3 v_normal;\nvarying vec2 v_texCoords;\nvarying vec3 v_position;\n\nvoid main() {\n    vec4 pos = u_modelview * vec4(a_position, 1.0);\n    v_position = pos.xyz;\n    v_normal = normalize(u_normalMatrix * a_normal);\n    v_tangent = normalize(u_normalMatrix * a_tangent);\n    v_bitangent = cross(v_normal, v_tangent);\n    v_texCoords = a_texCoords;\n    gl_Position = u_projection * pos;\n}\n"})}),"\n",(0,a.jsx)(n.h3,{id:"fragment-shader-tangent-space-normal-mapping",children:"Fragment Shader (Tangent-Space Normal Mapping)"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-glsl",children:"precision mediump float;\nvarying vec3 v_tangent;\nvarying vec3 v_bitangent;\nvarying vec3 v_normal;\nvarying vec2 v_texCoords;\nvarying vec3 v_position;\n\nuniform sampler2D u_texture;\nuniform sampler2D u_normalMap;\nuniform vec3 u_lightPos;\n\nvoid main() {\n    // Sample normal map (in [0,1] \u2192 [-1,1])\n    vec3 normalMap = texture2D(u_normalMap, v_texCoords).rgb;\n    normalMap = normalMap * 2.0 - 1.0;\n\n    // TBN matrix\n    mat3 TBN = mat3(v_tangent, v_bitangent, v_normal);\n    vec3 N = normalize(TBN * normalMap);\n    vec3 L = normalize(u_lightPos - v_position);\n\n    float diff = max(dot(N, L), 0.0);\n    vec3 texColor = texture2D(u_texture, v_texCoords).rgb;\n    vec3 final = texColor * diff;\n\n    gl_FragColor = vec4(final, 1.0);\n}\n"})}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"4-other-creative-ideas-exam-flex",children:"4. Other Creative Ideas (Exam Flex)"}),"\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"Effect"}),(0,a.jsx)(n.th,{children:"Code Snippet"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.strong,{children:"MatCap"})}),(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"vec3 viewDir = normalize(v_position); vec2 uv = viewDir.xy * 0.5 + 0.5; gl_FragColor = texture2D(matcap, uv);"})})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.strong,{children:"UV Animation (Water)"})}),(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"v_texCoords += vec2(u_time * 0.1, 0);"})})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.strong,{children:"Scanlines"})}),(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"float scan = sin(v_texCoords.y * 800.0) * 0.05; gl_FragColor.rgb -= scan;"})})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.strong,{children:"Blend with Mask"})}),(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"float mask = texture2D(maskTex, uv).r; gl_FragColor = mix(tex1, tex2, mask);"})})]})]})]}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"5-exam-question-patterns",children:"5. Exam Question Patterns"}),"\n",(0,a.jsx)(n.h3,{id:"type-1-sample-texture",children:"Type 1: Sample Texture"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-glsl",children:"gl_FragColor = texture2D(u_tex, v_texCoords);\n"})}),"\n",(0,a.jsx)(n.h3,{id:"type-2-procedural-checkerboard",children:"Type 2: Procedural Checkerboard"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-glsl",children:"float checker = mod(floor(uv.x*10.0) + floor(uv.y*10.0), 2.0);\ncolor = checker < 1.0 ? vec3(1.0) : vec3(0.0);\n"})}),"\n",(0,a.jsx)(n.h3,{id:"type-3-fix-mipmap",children:"Type 3: Fix Mipmap"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:"gl.generateMipmap(gl.TEXTURE_2D);  // Missing!\n"})}),"\n",(0,a.jsx)(n.h3,{id:"type-4-bump-mapping",children:"Type 4: Bump Mapping"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-glsl",children:"vec3 normalMap = texture2D(u_normal, uv).rgb * 2.0 - 1.0;\nvec3 N = normalize(TBN * normalMap);\n"})})]})}function x(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>i,x:()=>s});var t=r(6540);const a={},l=t.createContext(a);function i(e){const n=t.useContext(l);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:i(e.components),t.createElement(l.Provider,{value:n},e.children)}}}]);